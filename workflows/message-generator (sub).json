{
  "id": "6poFDJMxBdSm7L3s",
  "name": "message-generator (sub)",
  "active": true,
  "nodes": [
    {
      "parameters": {
        "inputSource": "passthrough"
      },
      "id": "bfeefbb0-117f-4c70-9936-ed1bbdb1d211",
      "typeVersion": 1.1,
      "name": "When Executed by Another Workflow",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "position": [
        1520,
        256
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "const type = $json.Type;\nconst tone = $json.Tone;\nconst lang = $json.Language;\nconst name = $json.Firstname;\nconst nick = $json.Nick || name;\n\n// ---------- HELPERS ----------\nconst pick = (arr) => arr[Math.floor(Math.random() * arr.length)];\nconst emojiOnce = (arr) => pick(arr);\n\n// ---------- EMOJIS ----------\nconst emojis = {\n  birthday: [\"ğŸ‰\", \"ğŸ¥³\", \"ğŸ‚\", \"âœ¨\"],\n  nameday: [\"ğŸŒ¼\", \"ğŸŒ¸\", \"âœ¨\"]\n};\n\n// ---------- TEMPLATES ----------\nconst templates = {\n  se: {\n    birthday: {\n      formal: [\n        `Grattis pÃ¥ fÃ¶delsedagen ${name}! ğŸ‰`,\n        `Stort grattis pÃ¥ fÃ¶delsedagen ${name}.`,\n        `Ã–nskar dig en underbar fÃ¶delsedag, ${name}.`,\n        `Grattis ${name}, och mÃ¥ din dag bli lika fin som du Ã¤r.`,\n        `HjÃ¤rtlig grattis pÃ¥ fÃ¶delsedagen, ${name}.`\n      ],\n      casual: [\n        `Grattis ${emojiOnce(emojis.birthday)} Hoppas du fÃ¥r en fin dag!`,\n        `Grattiiiiiis! ğŸ¥³ Ha en toppenfin dag!`,\n        `Grattis ${name}! ğŸ‰ Njut av din dag!`,\n        `Hipp hipp hurra ${name}! ğŸ‚`,\n        `Grattis pÃ¥ fÃ¶delsedagen! Hoppas du blir firad ordentligt!`\n      ],\n      personal: [\n        `Grattis pÃ¥ fÃ¶delsedagen, ${nick}! ğŸ‰ Hoppas din dag Ã¤r fylld med skratt, kramar och en massa ${nick}-sktrudelisar!`,\n        `Grattis ${nick}! ğŸ‚ MÃ¥ din dag bli lika fantastisk som en regnbÃ¥ge gjord av kanelbullar!`,\n        `Grattis ${nick}! ğŸ¥³ MÃ¥ din dag vara lika galen och fantastisk som en dansande flamingo!`,\n        `Grattis ${nick}! ğŸ‰ Hoppas du fÃ¥r en dag som Ã¤r lika sÃ¶t som en chokladfontÃ¤n!`,\n        `Grattis ${nick}! ğŸ‚ MÃ¥ din dag vara full av skratt, tÃ¥rta och lite lagom chaos!`,\n        `Grattis ${nick}! ğŸ¥³ MÃ¥ du fÃ¥ en dag med fler Ã¶verraskningar Ã¤n en skojig lÃ¥da!`,\n        `Grattis ${nick}! ğŸ‰ MÃ¥ din dag vara som en stor kram av konfetti!`,\n        `Grattis ${nick}! ğŸ‚ Hoppas du fÃ¥r en dag med mer glitter Ã¤n en enhÃ¶rning pÃ¥ disco!`\n      ]\n    },\n    nameday: {\n      formal: [\n        `Grattis pÃ¥ namnsdagen ${name}. Hoppas du fÃ¥r en fin dag.`,\n        `Ã–nskar dig en trevlig namnsdag, ${name}.`,\n        `Grattis ${name} pÃ¥ namnsdagen.`\n      ],\n      casual: [\n        `Grattis pÃ¥ namnsdagen! ğŸŒ¼`,\n        `Grattis ${name}! Hoppas du fÃ¥r en fin dag!`,\n        `Grattis pÃ¥ namnsdagen ${name}! ğŸ‰`\n      ],\n      personal: [\n        `Grattis pÃ¥ namnsdagen ${nick}! ğŸŒ¼ MÃ¥ din dag vara lika hÃ¤rlig som en sockervaddsfestival!`,\n        `Grattis ${nick}! ğŸ‰ Hoppas du fÃ¥r en dag fylld med skratt och lagom mycket bus!`,\n        `Grattis pÃ¥ namnsdagen! ğŸŒ¸ MÃ¥ din dag vara lika glittrig som en enhÃ¶rning!`,\n        `Grattis ${nick}! ğŸŒ¼ Hoppas din dag blir lika mysig som en filt och en kopp varm choklad!`,\n        `Grattis ${nick}! ğŸ‰ MÃ¥ din namnsdag vara lika rolig som en dansande kanelbulle!`\n      ]\n    }\n  },\n\n  en: {\n    birthday: {\n      formal: [\n        `Happy Birthday ${name}! ğŸ‰`,\n        `Wishing you a very happy birthday, ${name}.`,\n        `Many happy returns on your birthday, ${name}.`,\n        `Warm birthday wishes to you, ${name}.`,\n        `Hope your birthday is as wonderful as you are, ${name}.`\n      ],\n      casual: [\n        `Happy Birthday ${nick}! ğŸ‰`,\n        `Happy Birthday ${nick}! Have an awesome day!`,\n        `Happy Birthday! Hope itâ€™s a great one!`,\n        `Cheers to you on your birthday! ğŸ¥³`,\n        `Happy Birthday ${nick}! Hope you get spoiled today!`\n      ],\n      personal: [\n        `Happy Birthday ${nick}! ğŸ‰ May your day be as magical as a unicorn on roller skates!`,\n        `Happy Birthday ${nick}! ğŸ¥³ May your cake be huge and your worries tiny.`,\n        `Happy Birthday ${nick}! ğŸ‚ Hope your day is filled with laughter and ridiculous joy!`,\n        `Happy Birthday ${nick}! ğŸ‰ May your day be full of smiles, silly jokes, and unexpected fun!`,\n        `Happy Birthday ${nick}! ğŸ¥³ May your day be as awesome as a penguin in a party hat!`,\n        `Happy Birthday ${nick}! ğŸ‚ May your day be full of confetti and zero adulting.`,\n        `Happy Birthday ${nick}! ğŸ‰ Hope your day is more fun than a llama on a trampoline!`,\n        `Happy Birthday ${nick}! ğŸ¥³ May your day be as bright as a glitter cannon!`\n      ]\n    },\n    nameday: {\n      formal: [\n        `Happy Name Day ${name}!`,\n        `Wishing you a lovely Name Day, ${name}.`,\n        `Happy Name Day to you, ${name}.`\n      ],\n      casual: [\n        `Happy Name Day! ğŸŒ¼`,\n        `Happy Name Day ${name}!`,\n        `Happy Name Day! Hope you have a great day!`\n      ],\n      personal: [\n        `Happy Name Day ${nick}! ğŸŒ¼ May your day be filled with smiles and silly surprises!`,\n        `Happy Name Day ${nick}! ğŸ‰ Hope your day is as fun as a confetti cannon!`,\n        `Happy Name Day ${nick}! ğŸŒ¸ May your day be as bright as a disco ball!`,\n        `Happy Name Day ${nick}! ğŸ‰ May your day be full of joy and tiny happy dances!`,\n        `Happy Name Day ${nick}! ğŸŒ¼ Hope your day is filled with laughter and sweet treats!`\n      ]\n    }\n  },\n\n  hr: {\n    birthday: {\n      formal: [\n        `Sretan roÄ‘endan ${name}! ğŸ‰`,\n        `Sve najbolje za roÄ‘endan, ${name}.`,\n        `Å½elim ti prekrasan roÄ‘endan, ${name}.`,\n        `Sretan roÄ‘endan, ${name}. Neka ti dan bude divan.`,\n        `NajljepÅ¡e Å¾elje za tvoj roÄ‘endan, ${name}.`\n      ],\n      casual: [\n        `Sretan roÄ‘endan ${nick}! ğŸ‰`,\n        `Sretan roÄ‘endan ${nick}! UÅ¾ivaj u danu!`,\n        `Sretan roÄ‘endan! Nadam se da Ä‡eÅ¡ se super provesti!`,\n        `Sretan roÄ‘endan! ğŸ¥³ Neka ti dan bude pun smijeha!`,\n        `Sretan roÄ‘endan ${nick}! ğŸ‚`\n      ],\n      personal: [\n        `Sretan roÄ‘endan ${nick}! ğŸ‰ Neka ti dan bude lud kao Å¡umski medvjediÄ‡ na rolerima!`,\n        `Sretan roÄ‘endan ${nick}! ğŸ¥³ Neka ti torta bude veÄ‡a od problema!`,\n        `Sretan roÄ‘endan ${nick}! ğŸ‚ Neka ti dan bude pun smijeha i slatkih iznenaÄ‘enja!`,\n        `Sretan roÄ‘endan ${nick}! ğŸ‰ Neka ti dan bude kao zabava u svemiru!`,\n        `Sretan roÄ‘endan ${nick}! ğŸ¥³ Neka ti dan bude pun konfeta i dobrih vibracija!`,\n        `Sretan roÄ‘endan ${nick}! ğŸ‚ Neka ti dan bude kao ples s pingvinima!`,\n        `Sretan roÄ‘endan ${nick}! ğŸ‰ Neka ti dan bude pun Äarolije i smijeha!`\n      ]\n    },\n    nameday: {\n      formal: [\n        `Sretan imendan ${name}.`,\n        `Sve najbolje povodom imendana, ${name}.`,\n        `Sretan imendan, ${name}.`\n      ],\n      casual: [\n        `Sretan imendan! ğŸŒ¼`,\n        `Sretan imendan ${name}!`,\n        `Sretan imendan! Nadam se da Ä‡eÅ¡ se lijepo provesti!`\n      ],\n      personal: [\n        `Sretan imendan ${nick}! ğŸŒ¼ Neka ti dan bude pun smijeha i slatkih iznenaÄ‘enja!`,\n        `Sretan imendan ${nick}! ğŸ‰ Neka ti dan bude kao zabava s pingvinima!`,\n        `Sretan imendan ${nick}! ğŸŒ¸ Neka ti dan bude pun konfeta i dobrih vibracija!`,\n        `Sretan imendan ${nick}! ğŸ‰ Neka ti dan bude pun Äarolije i veselja!`,\n        `Sretan imendan ${nick}! ğŸ¥³ Neka ti dan bude kao najluÄ‘a zabava ikad!`\n      ]\n    }\n  }\n};\n\n// ---------- FALLBACK ----------\nconst fallback = {\n  se: \"Grattis! ğŸ‰ Hoppas du fÃ¥r en fin dag!\",\n  en: \"Happy Birthday! ğŸ‰\",\n  hr: \"Sretan roÄ‘endan! ğŸ‰\"\n};\n\n// ---------- ROUTING ----------\nconst langBlock = templates[lang];\n\nif (!langBlock || !langBlock[type] || !langBlock[type][tone]) {\n  return {\n    ...$json,\n    message: fallback[lang]\n  };\n}\n\nreturn {\n  ...$json,\n  message: pick(langBlock[type][tone])\n};\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1744,
        368
      ],
      "id": "222d9080-a238-45af-b05d-bd4b8719e10c",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        1520,
        448
      ],
      "id": "3cb86b84-04d4-4d3f-9807-6796455c3b93",
      "name": "When clicking 'Execute workflow'"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "2c85b938-7a43-4e67-862e-98187a976eab",
              "leftValue": "",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        1952,
        368
      ],
      "id": "11b9ae59-ea3b-4056-9f48-028b8e9cae6c",
      "name": "If"
    }
  ],
  "connections": {
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking 'Execute workflow'": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false,
    "callerPolicy": "workflowsFromSameOwner"
  },
  "staticData": null,
  "tags": []
}